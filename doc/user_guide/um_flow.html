<html>
   <style> pre.small {line-height: 0.5; font-weight:bold; color: #FF00FF; }</style>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Маршрут проектирования</title>
   </head>
   <body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
      <h3>Маршрут проектирования с eshell</h3>
      <hr>
      <p>
         <b>eshell</b> разработан для применения на этапе разработки и отладки RTL, а также для проведения логического синтеза / DFT / ATPG.
         <b>eshell</b> содержит библиотеку синтезируемых моделей с открытым исходным кодом - EHL (Eshell Hardware Library).
      </p>

      <h3>Запуск</h3>
      <p>При запуске, <b>eshell</b> позволяет указать следующие параметры работы:</p>
      <table summary="bugs" cellpadding="4" width="0%" border="1" cellspacing="0" rules="all">
         <colgroup><col><col><col><col></colgroup>
         <thead>
            <tr bgcolor="#C0C0C0">
               <th>Опция</th>
               <th>Аргумент</th>
               <th>Описание</th>
               <th>Комментарий</th>
            </tr>
         </thead>
         <tbody>
            <tr> <td>-nolog</td>  <td></td><td>запуск программы без генерации лога</td> <td></td> </tr>
            <tr> <td>-quiet</td>  <td></td><td>запуск программы без вывода в консоль</td> <td></td> </tr>
            <tr> <td>-noinit</td> <td></td><td>запуск программы без исполнения autosetup.tcl, расположенного в рабочем каталоге</td> <td></td> </tr>
            <tr> <td>-tcl</td>    <td></td><td>запуск в режиме tcl</td> <td></td> </tr>
            <tr> <td>-nodb</td>   <td></td><td>запуск без сохранения скомпилированных файлов в базу на диске</td> <td></td> </tr>
            <tr> <td>-script</td> <td>filename</td> <td>запуск программы с исполнением указанного файла вместо файла по умолчанию - autosetup.tcl</td> <td></td> </tr>
            <tr> <td>-help</td>   <td></td> <td>вызов справки и выход</td> <td></td> </tr>
            <tr> <td>-dir</td>    <td>directory</td> <td>запуск программы с указанием рабочей директории (вместо текущего каталога)</td> <td></td> </tr>
         </tbody>
      </table>
      <p>Дополнительно, при запуске с использованием скрипта <b>eshell</b> доступны следующие параметры:</p>
      <table summary="bugs" cellpadding="4" width="0%" border="1" cellspacing="0" rules="all">
         <colgroup><col><col><col></colgroup>
         <thead>
            <tr bgcolor="#C0C0C0">
               <th>Опция</th>
               <th>Описание</th>
               <th>Комментарий</th>
            </tr>
         </thead>
         <tbody>
            <tr> <td>-32</td>            <td>Запуск 32-битной версии программы. Взаимоисключающая опция с <b>-64</b>.</td> <td></td> </tr>
            <tr> <td>-64</td>            <td>Запуск 64-битной версии программы. Взаимоисключающая опция с <b>-32</b>.</td> <td></td> </tr>
            <tr> <td>-gui</td>           <td>Запуск графической оболочки.</td> <td></td> </tr>
<!-- TODO: add min tested version of VG and GDB -->
            <tr> <td>-valgrind</td>      <td>Запуск с проверкой ошибок памяти в valgrind. Взаимно исключающая опция с <b>-valgrind_all</b> и <b>-gdb</b>.</td> <td>Для работы требуется наличие корректно установленной версии Valgrind.</td> </tr>
            <tr> <td>-valgrind_all</td>  <td>Запуск с проверкой ошибок памяти и проверкой неосвобожденной памяти в valgrind. Взаимно исключающая опция с <b>-valgrind</b> и <b>-gdb</b>.</td> <td>Для работы требуется наличие корректно установленной версии Valgrind.</td> </tr>
            <tr> <td>-gdb</td>           <td>Запуск из-под отладчика GNU Debugger. Взаимно исключающая опция с <b>-valgrind</b> и <b>-valgrind_all</b>.</td> <td>Для работы требуется наличие корректно установленной версии GNU Debugger.</td> </tr>
         </tbody>
      </table>

      <br></br>
      <p>
         После запуска программа исполняет файл autosetup.tcl, размещаемый в текущем каталоге (если нет опции <b>-noinit</b>, и не задается альтернативный скрипт с помощью <b>-script</b>).
         По окончании исполнения скрипта контроль переходит к пользователю (если не было команды <b>exit</b>).
      </p>
      <p>В процессе работы программа создает лог выполнения, располагаемый в рабочей директории и называемый &lt;workspace&gt;.log. Где workspace - имя проекта, задаваемое в программе с помощью команды <b>set_workspace WORKSPACE_NAME</b> (значение по умолчанию - eshell).</p>
      <p>Успешно скомпилированные модули размещаются в базе на диске. Имя базы &lt;workspace&gt;.edb.</p>
      <p>Запуск программы производится из текущего каталога, а сохранение лога и баз данных происходит в рабочую директорию (текущий каталог, либо каталог, указанный при запуске программы с помощью <b>-dir</b>).</p>

      <hr>
      <h3>Рекомендуемый маршрут</h3>
      <p>
         Далее приведен базовый маршрут использования <b>eshell</b> для получения технологического netlist.
         Маршрут может незначительно варьироваться, например, отдельные операции могут быть пропущены или выполнены при отдельном запуске программы (например, компиляция RTL).
      </p>
      <ul>
      <p>1. <b>read_lib</b> - компиляция технологических библиотек;</p>
      <p>2. <b>read</b> - компиляция RTL описания;</p>
      <p>3. <b>build</b> - элаборация дизайна;</p>
      <p>4. <b>read_sdc</b> - задание ограничений дизайна;</p>
      <p>5. <b>opt</b> - оптимизация дизайна.</p>
      <p>6. <b>report_timing</b> - задание параметров временного графа;</p>
      <p>7. <b>opt -recursive</b> - оптимизация с учетом времени распространения сигналов;</p>
      <p>8. <b>techmap</b> - маппинг в базис технологической библиотеки;</p>
      <p>9. <b>write</b> - выгрузка netlist.</p>
      </ul>

   </body>
</html>
