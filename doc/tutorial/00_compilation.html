<html>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <style> pre.small {line-height: 0.5; color: #0000FF; } </style>
   <style> CMD {line-height: 0.5; color: #0000FF; } </style>
   <body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
      <h2 class="title">Урок 1. Компиляция</h2>
      <p>Данный урок обучает базовым навыкам применения <b>eshell</b> для компиляции проекта. Выполняйте инструкции пошагово.</p>
      <hr>
      <h4>В ходе урока Вы изучите:</h4>
      <ul>
         <li>Запуск <b>eshell</b> из командной строки;</li>
         <li>Компиляцию Verilog файлов;</li>
         <li>Написание скриптов;</li>
         <li>Работу с базами данных <b>eshell</b>;</li>
         <li>Запуск системных команд из-под <b>eshell</b>;</li>
         <li>Статическую проверку модулей.</li>
      </ul>
      <hr>
      <h4>Действия:</h4>
      <li>Откройте консоль. Перейдите в каталог урока (<b>00_compilation</b>).</li>
      <li>Добавьте путь к <b>eshell</b> в системную переменную path, ex.:
         <ul><pre>a. Windows: <CMD>set path=%path%;E:\tools\eshell</CMD></pre></ul>
         <ul><pre>b. Linux: Bash <CMD>export PATH=$PATH:/CAD/eshell</CMD></pre></ul>
      </li>
      <li>Ознакомьтесь с содержимым каталога: <b>UART.v</b> + <b>run_01.cmd</b> + <b>run_02.cmd</b>.</li>
      <li>Проверьте содержимое файла <b>run_01.cmd</b>. В нем происходит чтение (компиляция) файла <b>UART.v</b>.</li>
      <li>Запустите <b>eshell</b> написав его название в командной строке.</li>
      <li>В программе выполните команду <CMD>source run_01.cmd</CMD>.</li>
      <li>Альтернативно, можно выполнить <CMD>read UART.v</CMD>. Следует учитывать, что ОС Linux чувствительна к регистру в названии файлов.</li>
      <li>Выполните обе команды в любой последовательности. Проверьте содержимое каталога, из которого запускался <b>eshell</b>. В нем появились дополнительные файлы <b>eshell*</b>.</li>
      <li>Проверьте наличие файлов <b>eshell.edb*</b>. Файл <b>eshell.edb</b> содержит информацию о скомпилированных модулях. <b>eshell.edb00001</b> содержит скомпилированный модуль. <b>eshell.log</b> - журнал текущего запуска.</li>
      <li>Выполните команду <CMD>set_workspace lab1</CMD>. Она изменит имя проекта с <b>eshell</b> (значение по умолчанию) на <b>lab1</b>. Теперь вывод производится в файл <b>lab1.log</b>, а файлы компилируются в <b>lab1.edb*</b>.</li>
      <li>Скомпилируйте файл <b>UART.v</b> еще раз.</li>
      <li>Очиситите базу командой <CMD>clear_db</CMD>. Вернитесь к изначальному проекту <CMD>set_workspace eshell</CMD>. Обратите внимание, что созданный ранее файл <b>eshell.log</b> перезаписался при смене проекта.</li>
      <li>Удалите файл <b>lab1.log</b> используя команды ОС:
         <ul><pre>a. Windows: <CMD>system del lab1.log</CMD></pre></ul>
         <ul><pre>b. Linux: <CMD>system rm lab1.log</CMD></pre></ul>
      </li>
      <li>Выполните команду <CMD>message NOT</CMD>. <b>eshell</b> выдаст сообщение об ошибке. Исправьте ошибку, написав <CMD>message NOTE</CMD>, или используя TAB в конце неполной команды. Выполненная команда изменит уровень сообщений, генерируемых программой. Для получения краткой информации о программе можно выполнить <CMD>help</CMD>.</li>
      <li>Еще раз скомпилируйте файл UART.v и обратите внимание на увеличение количества сообщений.</li>
      <li>Для получения более детальной информации о сообщении выполните <CMD>man ADV-N</CMD>, где N – индекс сообщения.</li>
      <li>Покиньте программу, выполнив <CMD>exit</CMD></li>
      <li>Проверьте содержимое файла <b>eshell.log</b>. В конце он содержит информацию о количестве и статусе скомпилированных файлов и время текущей сессии.</li>
      <li>Предыдущие шаги были выполнены в интерактивном режиме. Для запуска в автоматизированном режиме следует использовать скрипт. При запуске <b>eshell</b> исполняет файл <b>autosetup.tcl</b>. Создайте его и заполните следующими командами:
         <ul><CMD>message NOTE</CMD></ul>
         <ul><CMD>read UART.v</CMD></ul>
         <ul><CMD>exit</CMD></ul>
      </li>
      <li>Наберите <b>eshell</b> в командной строке и убедитесь, что программа выполнила последовательность в соответствии с файлом <b>autosetup.tcl</b>.</li>
      <hr>
      <h4>Далее:</h4>
<!--         <p>Пример инкрементальной компиляции.</p> -->
      <p>В <a href="01_elaboration.html" target="Frame_data" class="olink">следующем уроке</a> Вы изучите процесс работы с иерархическими дизайнами, процесс игнорирования некоторых ошибок HDL в процессе работы, и процесс элаборации дизайна.</p>

<!-- Also you will use simple GUI to work with eshell.-->
<!--          <p>Reading libraries and VCD files. And check supported constructs limitations.</p> -->
<!--          <p>Read VCD and annotate design for toggle activity. Report generic power for this case?</p> -->

   </body>
</html>
